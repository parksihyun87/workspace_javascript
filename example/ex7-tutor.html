<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <h2>로그인</h2>
    <form id="loginForm" name="loginForm">
        <label for="userId">아이디:</label>
        <input type="text" id="userId" name="userId" required>
        <br>

        <label for="userPw">비밀번호:</label>
        <input type="password" id="userPw" name="userPw" required>
        <br>       

        <button type="submit">로그인</button>
    </form>

    <script>
        const users = [
            { id: "user1", pw: "pass123" },
            { id: "admin", pw: "admin456" },
            { id: "testUser", pw: "test789" },
            { id: "guest", pw: "guest000" },
            { id: "developer", pw: "dev999" }
        ];

        document.loginForm.addEventListener("submit", (e)=>{
            e.preventDefault();

            const inputId = document.loginForm.userId.value;
            const inputPw = document.loginForm.userPw.value;

            // let flag = false;
            // for(let u of users){
            //     if(u.id === inputId){
            //         flag = true;
            //         if(u.pw === inputPw){
            //             alert("로그인 성공! 환영합니다" + u.id + "님");
            //         }else{
            //             alert("비밀번호가 일치하지 않습니다.");
            //         }
            //         break;
            //     }
            // }
            // if(!flag){
            //     alert("없는 아이디 입니다.");
            // }

            // let user=null;
            // users.forEach((u)=>{
            //     if(u.id===inputId){
            //         user= u;
            //     }
            // });

            let user=users.find((u)=>u.id === inputId);
            // 아이디가 일치하는 배열안 객체를 리턴함

            if(user === null){
                alert("없는 아이디 입니다.");
                return;
            }

            if(user.pw === inputPw){
                alert("로그인 성공! 환영합니다" + user.id + "님");
            }else{
                alert("비밀번호가 일치하지 않습니다.");
            }

        });
      

    </script>
        <!-- //리턴으로도 그냥 끝낼 수 있다.

        // 같은 아이디가 있으면 들어가고
        // 없으면 널.
        // 리턴값이 없다는게. 배열이 아무것도 안들어가있따는 걸 알 수 있음.

        // 맵이나 필터는 리턴값 꼭 필요한데 필터는 트루나 폴스 필요해서 트루면 취함
        // 맵은 변경값을 리턴해야 함. 리턴하고 쓰는 건 아니고 값이 있다는 건데

        // 포이치는 뭔가를 리턴하지 않으면서 개별별자에게 변형을 준다.
        
        // 포이치는 한개씩 작업을 해서 넣어주고, 맵은 한꺼번에 변경해서 배열로 넣어줌
        // 포이치도 순회 없는 값을 만들면,
        // 맵은 없는값도 동일한 배열요소 개수의 없는것들의 배열이 되고
        // 필터는 빈배열, 포이치는 널이 된다. 반환값의 차이

        
        // 파인드 메서드.트루폴스
        // 파인드도 순회하지만 트루포스 조건에
        // 찾는 데이터 첫번째 하나만 리턴 하고 끝인데 배열이 아니라 한개만 리턴하는데
        // 배열이 아니라 객체를 가져옴.
        // 얘는 함수 호출이 생겨서 코스트가 약간 높은 편
        // 차라리 애드이벤트 해서 포문 돌리는게 더 낮긴 한데, 그냥 씀. -->

</body>

</html>